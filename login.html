<!DOCTYPE html>
<html lang="es">
<head>
    <!-- 
     * Archivo: login.html
     * Propósito/Descripción General: Esta es la página de inicio de sesión para la Joyería El Dorado.
     * Permite a los usuarios (clientes, vendedores, administradores) acceder a sus cuentas
     * y obtener acceso a las funciones específicas de su rol en la joyería.
     * Contiene: Formulario de login, validación de credenciales, enlaces de registro y recuperación
     * Relacionado con: login.js, login.css, dashboard.html, registro_de_cliente.html
     * Última Modificación: Diciembre 2024 - Auditoría de comentarios
     -->
    
    <!-- Configuración básica del documento HTML -->
    <meta charset="UTF-8">
    <!-- Configuración para dispositivos móviles - hace que la página se vea bien en teléfonos -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Título que aparece en la pestaña del navegador -->
    <title>Iniciar Sesión - Joyería El Dorado</title>
    
    <!-- Enlaces a los archivos de estilos CSS -->
    <!-- main.css contiene los estilos generales de toda la aplicación -->
    <link rel="stylesheet" href="css/main.css">
    <!-- login.css contiene estilos específicos para esta página de login -->
    <link rel="stylesheet" href="css/login.css">
</head>

<!-- El body tiene la clase 'auth-body' para aplicar estilos específicos de autenticación -->
<body class="auth-body">

    <!-- --- Sección: Header de Autenticación --- -->
    <!-- Esta sección contiene el logo de la joyería y permite volver a la página principal -->
    <header class="auth-header">
        <!-- Enlace que permite volver al dashboard como invitado -->
        <a href="dashboard.html" aria-label="Volver a la página principal">
            <!-- Logo de la Joyería El Dorado -->
            <img src="assets/logo.jpg" alt="Logo Joyería El Dorado" class="logo">
        </a>
    </header>

    <!-- --- Sección Principal: Contenedor de Login --- -->
    <!-- Esta es la sección principal que contiene el formulario de inicio de sesión -->
    <main class="login-container">
        
        <!-- --- Tarjeta de Login --- -->
        <!-- Esta tarjeta contiene todo el formulario de inicio de sesión -->
        <div class="login-card">
            
            <!-- Logo de la joyería en la parte superior de la tarjeta -->
            <img src="assets/logo.jpg" alt="Logo Joyería El Dorado" class="login-logo">
            
            <!-- Título principal de la página -->
            <h2>Iniciar Sesión</h2>
            
            <!-- --- Formulario de Inicio de Sesión --- -->
            <!-- Este formulario recoge las credenciales del usuario -->
            <form id="login-form">
                
                <!-- --- Campo de Correo Electrónico --- -->
                <!-- El usuario debe ingresar su correo electrónico para identificarse -->
                <div class="form-group">
                    <!-- Etiqueta que describe qué debe ingresar el usuario -->
                    <label for="email">Correo Electrónico</label>
                    <!-- Campo de entrada para el correo electrónico -->
                    <!-- El tipo 'email' valida automáticamente que sea un correo válido -->
                    <input type="email" id="email" class="form-input" required>
                    <!-- Elemento para mostrar mensajes de error específicos del correo -->
                    <span id="email-error" class="error-message"></span>
                </div>
                
                <!-- --- Campo de Contraseña --- -->
                <!-- El usuario debe ingresar su contraseña para autenticarse -->
                <div class="form-group">
                    <!-- Etiqueta que describe qué debe ingresar el usuario -->
                    <label for="password">Contraseña</label>
                    <!-- Campo de entrada para la contraseña -->
                    <!-- El tipo 'password' oculta los caracteres ingresados -->
                    <input type="password" id="password" class="form-input" required>
                    <!-- Elemento para mostrar mensajes de error específicos de la contraseña -->
                    <span id="password-error" class="error-message"></span>
                </div>
                
                <!-- --- Mensaje de Éxito General --- -->
                <!-- Elemento para mostrar mensajes de éxito del login -->
                <div id="login-success-message" class="success-message"></div>
                
                <!-- --- Enlaces de Ayuda --- -->
                <!-- Enlaces útiles para usuarios que tienen problemas con su cuenta -->
                <div class="login-links">
                    <!-- Enlace para recuperar contraseña (funcionalidad futura) -->
                    <a href="#" id="forgot-password-link">¿Olvidaste tu contraseña?</a>
                </div>
                
                <!-- --- Botón de Inicio de Sesión --- -->
                <!-- Botón que envía el formulario y procesa el login -->
                <button type="submit" class="btn btn-primary btn-full-width">Iniciar Sesión</button>
            </form>
            
            <!-- --- Promoción de Registro --- -->
            <!-- Invita a usuarios nuevos a crear una cuenta -->
            <div class="register-prompt">
                <!-- Mensaje que invita al registro -->
                <p>¿No tienes una cuenta? <a href="registro_de_cliente.html">Regístrate aquí</a></p>
            </div>
        </div>
    </main>

    <!-- --- Formularios de Recuperación de Contraseña --- -->
    <!-- Estos formularios están inicialmente ocultos y se muestran según el flujo de recuperación -->
    
    <!-- Paso 1: Solicitud de Correo Electrónico -->
    <div id="reset-password-step1" class="reset-flow-form" style="display: none;">
        <h2>Restablecer Contraseña</h2>
        <div class="form-group">
            <label for="reset-email">Correo Electrónico Registrado</label>
            <input type="email" id="reset-email" class="form-input" placeholder="tu.correo@ejemplo.com">
            <span id="reset-email-error" class="error-message"></span>
        </div>
        <button type="button" id="recover-password-btn" class="btn btn-primary btn-full-width">Recuperar Contraseña</button>
        <div class="login-prompt"><p><a href="#" id="back-to-login-link-1">← Volver al inicio de sesión</a></p></div>
    </div>

    <!-- Paso 2: Validación de Código de Confirmación -->
    <div id="reset-password-step2" class="reset-flow-form" style="display: none;">
        <h2>Restablecer Contraseña</h2>
        <p class="subtitle">Ingrese el código de confirmación enviado a su correo.</p>
        <div class="form-group">
            <label for="confirmation-code">Código de Confirmación</label>
            <input type="text" id="confirmation-code" class="form-input" placeholder="XXXXXX">
            <span id="code-error" class="error-message"></span>
        </div>
        <button type="button" id="validate-code-btn" class="btn btn-primary btn-full-width">Validar Código</button>
        <div class="login-prompt"><p><a href="#" id="back-to-login-link-2">← Volver al inicio de sesión</a></p></div>
    </div>

    <!-- Paso 3: Nueva Contraseña -->
    <div id="reset-password-step3" class="reset-flow-form" style="display: none;">
        <h2>Restablecer Contraseña</h2>
        <div class="form-group">
            <label for="new-password">Nueva Contraseña</label>
            <input type="password" id="new-password" class="form-input" minlength="8" placeholder="Mínimo 8 caracteres">
            <span id="new-password-error" class="error-message"></span>
        </div>
        <div class="form-group">
            <label for="confirm-new-password">Confirme Nueva Contraseña</label>
            <input type="password" id="confirm-new-password" class="form-input" minlength="8" placeholder="Repita la nueva contraseña">
            <span id="confirm-password-error" class="error-message"></span>
        </div>
        <button type="button" id="reset-password-final-btn" class="btn btn-primary btn-full-width">Restablecer Contraseña</button>
        <div class="login-prompt"><p><a href="#" id="back-to-login-link-3">← Volver al inicio de sesión</a></p></div>
    </div>

    <!-- --- Enlace de Regreso --- -->
    <!-- Permite a los usuarios volver a la página principal sin iniciar sesión -->
    <div class="back-to-home">
        <!-- Enlace para volver al dashboard como invitado -->
        <a href="dashboard.html">← Volver al inicio como invitado</a>
    </div>

    <!-- --- Scripts JavaScript --- -->
    <!-- login.js contiene toda la lógica para procesar el formulario de login -->
    <script src="js/login.js"></script>

</body>
</html>
