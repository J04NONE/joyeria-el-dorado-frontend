<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Roles - Joyería El Dorado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/header.css">
    <style>
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .test-info {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .role-test {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .current-role {
            background: #d4edda;
            border-color: #28a745;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <a href="dashboard.html">
                <img src="assets/logo.jpg" alt="Joyería El Dorado Logo">
            </a>
        </div>
        
        <button class="mobile-menu-toggle" aria-label="Abrir menú de navegación">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <nav role="navigation" aria-label="Navegación principal">
            <ul>
                <li><a href="dashboard.html">Inicio</a></li>
                <li><a href="lista_de_productos.html">Catálogo</a></li>
                <li class="nav-cliente-only"><a href="historial_ordenes.html">Mis Pedidos</a></li>
                <li class="nav-admin-only"><a href="administracion_de_usuarios.html">Gestión de Usuarios</a></li>
                <li class="nav-admin-vendor-only"><a href="gestion_de_productos.html">Gestión de Productos</a></li>
                <li class="nav-admin-vendor-only"><a href="proceso_ventas.html">Procesar Venta</a></li>
                <li class="nav-admin-only"><a href="reporte_ventas.html">Reportes</a></li>
                <li class="nav-login-link"><a href="login.html">Iniciar Sesión</a></li>
                <li class="nav-logout-link"><a href="#">Cerrar Sesión</a></li>
            </ul>
        </nav>
        
        <div class="cart-icon-wrapper nav-cliente-only">
            <a href="carrito.html" aria-label="Ver carrito de compras">
                <svg class="cart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.24 17 6.5 17H20v-2H6.5c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.9 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                </svg>
                <span class="cart-count">0</span>
            </a>
        </div>
        
        <div class="user-controls">
            <form class="search-form" role="search">
                <label for="header-search" class="sr-only">Buscar productos</label>
                <input type="search" id="header-search" placeholder="Buscar artículo" class="search-input" aria-label="Buscar productos">
                <button type="submit" class="search-button" aria-label="Buscar">
                    <i class="fas fa-search"></i>
                </button>
            </form>
        </div>
    </header>

    <main class="main-container">
        <h1>Prueba de Roles - Joyería El Dorado</h1>
        
        <div class="test-section">
            <h2>Información del Rol Actual</h2>
            <div class="test-info">
                <p><strong>Rol actual:</strong> <span id="current-role">Cargando...</span></p>
                <p><strong>Clase aplicada al body:</strong> <span id="body-class">Cargando...</span></p>
            </div>
        </div>

        <div class="test-section">
            <h2>Prueba de Visibilidad por Rol</h2>
            
            <div class="role-test" id="test-invitado">
                <h3>Rol: Invitado</h3>
                <p>Debería ver: Iniciar Sesión, Catálogo</p>
                <p>No debería ver: Cerrar Sesión, Carrito, Enlaces específicos de rol</p>
            </div>
            
            <div class="role-test" id="test-cliente">
                <h3>Rol: Cliente</h3>
                <p>Debería ver: Cerrar Sesión, Carrito, Mis Pedidos, Carrusel de productos</p>
                <p>No debería ver: Iniciar Sesión, Enlaces de administración</p>
            </div>
            
            <div class="role-test" id="test-vendedor">
                <h3>Rol: Vendedor</h3>
                <p>Debería ver: Cerrar Sesión, Gestión de Productos, Procesar Venta, Estadísticas</p>
                <p>No debería ver: Iniciar Sesión, Carrito, Enlaces solo de admin</p>
            </div>
            
            <div class="role-test" id="test-admin">
                <h3>Rol: Administrador</h3>
                <p>Debería ver: Cerrar Sesión, Gestión de Usuarios, Gestión de Productos, Procesar Venta, Reportes, Estadísticas</p>
                <p>No debería ver: Iniciar Sesión, Carrito</p>
            </div>
        </div>

        <div class="test-section">
            <h2>Secciones del Dashboard</h2>
            
            <div class="action-cliente-only">
                <h3>Carrusel de Productos (Solo Cliente)</h3>
                <p>Esta sección solo debería ser visible para clientes.</p>
            </div>
            
            <div class="action-admin-vendor-only">
                <h3>Estadísticas (Admin y Vendedor)</h3>
                <p>Esta sección solo debería ser visible para administradores y vendedores.</p>
            </div>
            
            <div class="acciones-rapidas">
                <h3>Acciones Rápidas</h3>
                <div class="acciones-grid">
                    <div class="accion-card action-admin-vendor">
                        <div class="accion-icon"><i class="fas fa-cash-register"></i></div>
                        <h3>Procesar Venta</h3>
                        <p>Procesar una nueva venta</p>
                    </div>
                    
                    <div class="accion-card action-admin-vendor">
                        <div class="accion-icon"><i class="fas fa-box"></i></div>
                        <h3>Gestión de Productos</h3>
                        <p>Gestionar productos del inventario</p>
                    </div>
                    
                    <div class="accion-card action-vendedor-only">
                        <div class="accion-icon"><i class="fas fa-clipboard-list"></i></div>
                        <h3>Gestión de Pedidos</h3>
                        <p>Ver y gestionar pedidos de clientes</p>
                    </div>
                    
                    <div class="accion-card action-admin-only">
                        <div class="accion-icon"><i class="fas fa-chart-bar"></i></div>
                        <h3>Ver Reportes</h3>
                        <p>Consultar estadísticas de ventas</p>
                    </div>
                    
                    <div class="accion-card action-admin-only">
                        <div class="accion-icon"><i class="fas fa-users"></i></div>
                        <h3>Gestionar Usuarios</h3>
                        <p>Administrar usuarios del sistema</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>Cambiar Rol de Prueba</h2>
            <button onclick="setRole('invitado')">Rol: Invitado</button>
            <button onclick="setRole('cliente')">Rol: Cliente</button>
            <button onclick="setRole('vendedor')">Rol: Vendedor</button>
            <button onclick="setRole('admin')">Rol: Administrador</button>
            <button onclick="clearRole()">Limpiar Rol</button>
        </div>
    </main>

    <script src="js/menu.js"></script>
    <script>
        // Función para mostrar información del rol actual
        function updateRoleInfo() {
            const userRole = localStorage.getItem('userRole') || 'invitado';
            const bodyClass = document.body.className;
            
            document.getElementById('current-role').textContent = userRole;
            document.getElementById('body-class').textContent = bodyClass;
            
            // Resaltar el test del rol actual
            document.querySelectorAll('.role-test').forEach(test => {
                test.classList.remove('current-role');
            });
            
            const currentTest = document.getElementById(`test-${userRole}`);
            if (currentTest) {
                currentTest.classList.add('current-role');
            }
        }
        
        // Función para cambiar rol
        function setRole(role) {
            localStorage.setItem('userRole', role);
            location.reload();
        }
        
        // Función para limpiar rol
        function clearRole() {
            localStorage.removeItem('userRole');
            location.reload();
        }
        
        // Actualizar información cuando la página carga
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(updateRoleInfo, 100); // Pequeño delay para asegurar que menu.js se ejecute
        });
    </script>
</body>
</html> 